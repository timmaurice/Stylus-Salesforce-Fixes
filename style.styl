/* ==UserStyle==
@name           Stylus Salesforce Overwrite
@namespace      github.com/timmaurice/Stylus-Salesforce-Fixes
@version        1.0.6
@description    A userstyle to improve usability and apply a custom theme to Salesforce Lightning and Classic.
@author         Tim Maurice Bayer (https://timbayer.de)
@homepageURL 	https://userstyles.world/style/16934/salesforce-overwrite
@supportURL 	https://github.com/timmaurice/Stylus-Salesforce-Fixes/issues
@updateURL 		https://raw.githubusercontent.com/timmaurice/Stylus-Salesforce-Fixes/main/style.user.css
@license 	  	MIT
@preprocessor   stylus
@var color    	color-primary       	"Primary color" #BABC16
@var color    	color-primary-light 	"Primary color light" lighten(color-primary, 65%)
@var checkbox 	apply-monospace-styles	"Use Monospace Font for Data" 1
@var text     	monospace-font-family "Monospace Font Family" "monospace"
@var text     	monospace-font-size   "Monospace Font Size" "10px"
@var text     	monospace-line-height "Monospace Line Height" "1.2"
==/UserStyle== */
@-moz-document domain("lightning.force.com"), domain("sandbox.my.salesforce.com"), domain("sandbox.my.salesforce-setup.com"), domain("my.salesforce.com")
	/*
	 * =================================================================
	 * Lightning Experience Styles
	 * =================================================================
	 */
	.slds-nav-vertical__action:hover
		box-shadow: inset 0.125rem 0 0 color-primary

	// Custom theme for setup navigation
	.slds-nav-vertical__item
		&:hover:before,
		&.slds-is-active:before
			background: unquote('rgba(color-primary-light, 0.2)')

	// Custom theme for active/selected items in setup trees
	.slds-tree [role=treeitem][aria-selected=true]>.slds-tree__item,
	.onesetupSetupNavTree ul[data-name=all] .tree-node[aria-selected=true] .slds-tree__item,
	.slds-nav-vertical__item.slds-is-active .slds-nav-vertical__action
		background: color-primary-light
		box-shadow: color-primary 4px 0 0 inset

	// Increase clickable area in setup navigation
	.slds-tree__item
		cursor: default
		padding: 0

		.slds-button
			margin-top: 6px

		a
			padding: 0.375rem 0
			width: 100%

	/*
	 * =================================================================
	 * Salesforce Classic Styles
	 * =================================================================
	 */
	tbody:has([id^='ListInboundChangeSetPage']),
	tbody:has([id^='ListOutboundChangeSetPage']),
	tbody:has([id^='MonitorDeploymentsPage']),
	tbody:has([id^='DeploymentSettingsPage']),
	tbody:has([id^='listSandbox'])
		.dataCell
			white-space: nowrap

	.x-grid3-cell-inner
		text-overflow: unset
		user-select: all
		white-space: normal

	/*
	 * =================================================================
	 * Shared Styles (Lightning & Classic)
	 * =================================================================
	 */
	s('	/* BEGIN: Shows text areas monospace conditionally */
	if apply-monospace-styles {')

	.dataCell,
	.bPageBlock .detailList tr.detailRow td,
	.data2Col,
	[slot='outputField'],
	lightning-formatted-text[data-output-element-id='output-field']
		font-family: monospace-font-family
		font-size: monospace-font-size
		line-height: monospace-line-height
		white-space: break-spaces

	s('	}
	/* END: Shows text areas monospace conditionally */')
